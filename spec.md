# Emoji Picker Chrome Extension - Specification

## 概要
- ブラウザ上のinput/textarea要素で「:」を入力すると、Discord風の絵文字ピッカーが表示されるChrome拡張。
- 「:joy」などと続けて入力すると、該当する絵文字候補がリアルタイムで絞り込まれる。
- 候補から絵文字を選択すると、input内の「:joy:」が「😂」などの絵文字に置換される。

## 対象要素
- 標準の`<input type="text">`、`<textarea>`、および`contenteditable`属性を持つ要素に対応。

## トリガー
- 入力中に「:」（コロン）をタイプした時点でピッカーを表示。
- 既存のテキスト中で「:」を入力した場合も同様に反応。

## 候補の絞り込み
- 「:」の直後に続く文字列（例: `:joy`）で絵文字名を部分一致検索。
- 候補はリアルタイムでフィルタリングされる。

## 絵文字データ
- 絵文字名・絵文字本体のペアをローカルJSONとして拡張内に保持。
- 必要に応じて外部APIやCDNからの取得も検討（初期はローカルのみ）。

## ピッカーUI
- Discord風のデザイン（シンプルなリスト、アイコン＋名前表示）。
- input/textareaの直下、またはカーソル位置付近に表示。
- 候補が多い場合はスクロール可能。

## 操作方法
- キーボード：上下キーで候補移動、Enterで決定、Escで閉じる。
- マウス：候補クリックで選択。
- ピッカー表示中に他の場所をクリック、またはEscでピッカーを閉じる。

## 選択時の挙動
- 「:joy:」などのテキストを該当する絵文字（例: 😂）に置換。
- カーソル位置を維持し、連続入力にも対応。

## 拡張の設定
- オプションページでON/OFF切り替え、ショートカットキー設定など（将来的に追加可能）。

## 対応ブラウザ
- Google Chrome（Manifest V3対応）

## セキュリティ・パフォーマンス
- DOMの監視は最小限にし、パフォーマンスに配慮。
- サードパーティサイトへの影響を最小化。
